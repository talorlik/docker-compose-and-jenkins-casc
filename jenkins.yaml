jenkins:
  systemMessage: "Jenkins configured automatically by Jenkins Configuration as Code"

  numExecutors: 0
  mode: NORMAL

  crumbIssuer:
    standard:
      excludeClientIPFromCrumb: false

  disableRememberMe: false

  securityRealm:
    local:
      allowsSignup: false
      enableCaptcha: false
      users:
        - id: "admin"
          name: "Jenkins Admin"
          password: "${JENKINS_ADMIN_PASSWORD}"
        - id: "devops"
          name: "DevOps User"
          password: "${JENKINS_DEVOPS_PASSWORD}"

  authorizationStrategy:
    globalMatrix:
      entries:
        - user:
            name: "admin"
            permissions:
              - "Overall/Administer"

        - user:
            name: "devops"
            permissions:
              - "Overall/Read"
              - "Job/Read"
              - "Job/Discover"
              - "Job/Build"
              - "Job/Cancel"
              - "Job/Configure"
              - "Job/Create"
              - "Job/Delete"
              - "Job/Move"
              - "Job/Workspace"
              - "Run/Replay"
              - "Run/Update"
              - "Run/Delete"
              - "View/Read"
              - "View/Configure"
              - "View/Create"
              - "View/Delete"
              - "Credentials/Create"
              - "Credentials/Delete"
              - "Credentials/ManageDomains"
              - "Credentials/Update"
              - "Credentials/View"
              - "Agent/Connect"
              - "Agent/Disconnect"
              - "Agent/Configure"
              - "Agent/Provision"
              - "SCM/Tag"

        - group:
            name: "authenticated"
            permissions:
              - "Overall/Read"
              - "Job/Read"
              - "Job/Discover"
              - "Job/Build"
              - "Job/Cancel"
              - "View/Read"

  clouds:
    - docker:
        name: "docker"
        dockerApi:
          dockerHost:
            uri: "unix:///var/run/docker.sock"
          connectTimeout: 60
          readTimeout: 60

        templates:
          - labelString: "docker"
            instanceCapStr: "10"
            mode: NORMAL
            remoteFs: "/home/jenkins/agent"
            pullStrategy: PULL_LATEST
            pullTimeout: 300
            dockerTemplateBase:
              image: "jenkins/inbound-agent:lts-jdk21"
            connector:
              attach:
                user: "jenkins"
            retentionStrategy:
              idleMinutes: 5

unclassified:
  location:
    url: "${JENKINS_URL}"
    adminAddress: "${JENKINS_ADMIN_EMAIL}"

tool:
  git:
    installations:
      - name: "Default"
        home: "git"
